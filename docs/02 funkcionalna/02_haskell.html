<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Основни појмови језика Haskell</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/qchoice.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/associations.css" />
    <link rel="stylesheet" type="text/css" href="../_static/editor.css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja-course.css" type="text/css" />
    <link rel="stylesheet" href="../_static/nbstyle.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/runestonebase.js"></script>
    <script src="../_static/skulpt.min.js"></script>
    <script src="../_static/skulpt-stdlib.js"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/jquery.highlight.js"></script>
    <script src="../_static/bookfuncs.js"></script>
    <script src="../_static/codemirror.js"></script>
    <script src="../_static/xml.js"></script>
    <script src="../_static/css.js"></script>
    <script src="../_static/python.js"></script>
    <script src="../_static/htmlmixed.js"></script>
    <script src="../_static/javascript.js"></script>
    <script src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script src="../_static/activecode-i18n.en.js"></script>
    <script src="../_static/activecode-i18n.sr-Cyrl.js"></script>
    <script src="../_static/activecode.js"></script>
    <script src="../_static/clike.js"></script>
    <script src="../_static/timed_activecode.js"></script>
    <script src="../_static/animationbase.js"></script>
    <script src="../_static/mchoice.js"></script>
    <script src="../_static/timedmc.js"></script>
    <script src="../_static/timed.js"></script>
    <script src="../_static/mchoice-i18n.en.js"></script>
    <script src="../_static/mchoice-i18n.sr-Cyrl.js"></script>
    <script src="../_static/clickable.js"></script>
    <script src="../_static/timedclickable.js"></script>
    <script src="../_static/d3.v2.min.js"></script>
    <script src="../_static/jquery.ba-bbq.min.js"></script>
    <script src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script src="../_static/pytutor.js"></script>
    <script src="../_static/codelens.js"></script>
    <script src="../_static/skulpt.min.js"></script>
    <script src="../_static/skulpt-stdlib.js"></script>
    <script src="../_static/datafile.js"></script>
    <script src="../_static/dragndrop.js"></script>
    <script src="../_static/timeddnd.js"></script>
    <script src="../_static/dragndrop-i18n.en.js"></script>
    <script src="../_static/dragndrop-i18n.sr-Cyrl.js"></script>
    <script src="../_static/fitb.js"></script>
    <script src="../_static/timedfitb.js"></script>
    <script src="../_static/fitb-i18n.en.js"></script>
    <script src="../_static/fitb-i18n.sr-Cyrl.js"></script>
    <script src="../_static/matrixeq.js"></script>
    <script src="../_static/lib/prettify.js"></script>
    <script src="../_static/lib/hammer.min.js"></script>
    <script src="../_static/parsons.js"></script>
    <script src="../_static/parsons-i18n.en.js"></script>
    <script src="../_static/parsons-i18n.sr-Cyrl.js"></script>
    <script src="../_static/timedparsons.js"></script>
    <script src="../_static/poll.js"></script>
    <script src="../_static/reveal.js"></script>
    <script src="../_static/shortanswer.js"></script>
    <script src="../_static/timed_shortanswer.js"></script>
    <script src="../_static/showEval.js"></script>
    <script src="../_static/tabbedstuff.js"></script>
    <script src="../_static/runestonevideo.js"></script>
    <script src="../_static/webglinteractive.js"></script>
    <script src="../_static/FileSaver.min.js"></script>
    <script src="../_static/Blob.js"></script>
    <script src="../_static/karelCorner.js"></script>
    <script src="../_static/karelRobot.js"></script>
    <script src="../_static/karelWorld.js"></script>
    <script src="../_static/karelChat.js"></script>
    <script src="../_static/karelRobotDrawer.js"></script>
    <script src="../_static/karelUI.js"></script>
    <script src="../_static/karel.js"></script>
    <script src="../_static/karel-i18n.en.js"></script>
    <script src="../_static/karel-i18n.sr-Cyrl.js"></script>
    <script src="../_static/notes.js"></script>
    <script src="../_static/pygamelib-init.js"></script>
    <script src="../_static/gallery.js"></script>
    <script src="../_static/associations.js"></script>
    <script src="../_static/associations-i18n.en.js"></script>
    <script src="../_static/associations-i18n.sr-Cyrl.js"></script>
    <script src="../_static/editor.js"></script>
    <script src="../_static/jszip.js"></script>
    <script src="../_static/editor-i18n.en.js"></script>
    <script src="../_static/editor-i18n.sr-Cyrl.js"></script>
    <script src="../_static/translations.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="../_static/jquery-fix.js"></script>
    <script src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/waypoints.min.js"></script>
    <script src="../_static/rangy-core.js"></script>
    <script src="../_static/rangy-textrange.js"></script>
    <script src="../_static/rangy-cssclassapplier.js"></script>
    <script src="../_static/user-highlights.js"></script>
    <script src="../_static/jquery.idle-timer.js"></script>
    <script src="../_static/processing-1.4.1.min.js"></script>
    <script src="../_static/jquery.hotkey.js"></script>
    <script src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script src="../_static/course-errors.js"></script>
    <script src="../_static/petlja.js"></script>
    <script src="../_static/require.js"></script>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <link rel="shortcut icon" href="../_static/favicon.ico" type="image/ico" />
    <script type="text/javascript">
      eBookConfig = {};
      eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
      eBookConfig.app = eBookConfig.host + '/runestone';
      eBookConfig.ajaxURL = eBookConfig.app + '/ajax/';
      eBookConfig.course = 'paradigme';
      eBookConfig.logLevel = '0';
      eBookConfig.loginRequired = 'false';
      eBookConfig.build_info = "";
      eBookConfig.isLoggedIn = false;
      eBookConfig.useRunestoneServices = false;
      eBookConfig.python3 = true;
      eBookConfig.basecourse = 'paradigme';
      eBookConfig.runestone_version = '';
      eBookConfig.imagesDir = '../_images/';
      eBookConfig.staticDir = '../_static/';
      if (typeof (Sk) != "undefined")
        Sk.imgPath = eBookConfig.imagesDir;
    </script>

  </head>

  <body>



<div id="navbar" class="content-header">
  <div class="right-side-nav">
    
    <div id="usefulLinksToggle" class="useful-links-toggle">
        <a class="dropdown-toggle dropdown-toggle-burger" role="button" href="#" id="usefulLinksDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-bars fa-2x"></i>
        </a>
        <div class="dropdown-menu dropdown-nav-links shadow-lg" aria-labelledby="usefulLinksDropdown" x-placement="bottom-start" style="position: absolute; transform: translate3d(-55px, 32px, 0px); top: 0px; left: 0px; will-change: transform;">
          <div class="links-title"> Корисни линкови</div>
          <div class="useful-link">
            <a href="https://www.haskell.org/ghc/" target="_blank">Glasgow haskell compiler</a></div>
          <div class="useful-link">
            <a href="https://www.haskell.org/hugs/" target="_blank">Hugs Haskell interpreter</a></div>
          <div class="useful-link">
            <a href="https://replit.com/languages/haskell" target="_blank">Haskell online (repl.it)</a></div>
          <div class="useful-link">
            <a href="https://www.swi-prolog.org/" target="_blank">SWI Prolog</a></div>
          <div class="useful-link">
            <a href="https://swish.swi-prolog.org/" target="_blank">SWI Prolog online</a></div>
          
        </div>
    </div>

    
</div>

<div class="left-side-nav">
  <div class="course-logo-nav">
      <a target="_blank" href="https://petlja.org">
          <img src="../_static/img/petlja-logo-wt.svg" alt="petlja.org" id="lightPetljaLogo">
      </a>
  </div>
  <div class="course-logo-nav-kabinet">
      <a target="_blank" href="https://petlja.org/net.kabinet">
          <img src="../_static/img/netkabinet-logo-strelica-wt.svg" alt="petlja.org" id="lightNetKabinetLogo">
      </a>
  </div>
</div>


<div class="content-header-label" id = "content-header-label" href="../">Увод у програмске парадигме, логичко и функционално програмирање за четврти разред специјализованих ИТ одељења</div>

</div>




<div class="petljaCourseContainer">

<div class="petljaCourseContent">
  
           <div class="tableOfContent">
            <h5> Садржај </h5>
            </div>
           <div>
                <div class="courseContentsSection">
                <div class="lecture-div courseContentsSectionHeadline" id=lecture-01%20paradigme>
                    <h5>О програмским парадигмама</h5>
                    <i class="fas fa-angle-down caret-position "> </i>
                    <i class="fas fa-angle-up caret-position d-none"></i>
                </div>
                <div class="courseContentsSubSection d-none"><a href=../01%20paradigme/01_o_paradigmama.html><div class="studioLecture" id=activity-01%20paradigme-01_o_paradigmama><i class="fas fa-file-alt activity-icon"></i>О програмским језицима и парадигмама</div></a>
                <a href=../01%20paradigme/02_imperativna.html><div class="studioLecture" id=activity-01%20paradigme-02_imperativna><i class="fas fa-file-alt activity-icon"></i>Императивна парадигма</div></a>
                <a href=../01%20paradigme/03_oop.html><div class="studioLecture" id=activity-01%20paradigme-03_oop><i class="fas fa-file-alt activity-icon"></i>Објектнооријентисана парадигма</div></a>
                <a href=../01%20paradigme/04_skript.html><div class="studioLecture" id=activity-01%20paradigme-04_skript><i class="fas fa-file-alt activity-icon"></i>Скрипт парадигма</div></a>
                <a href=../01%20paradigme/05_o_paradigmama_quiz.html><div class="studioLecture" id=activity-01%20paradigme-05_o_paradigmama_quiz><i class="far fa-question-circle activity-icon"></i>Квиз</div></a>
                </div>
            </div>
                
                <div class="courseContentsSection">
                <div class="lecture-div courseContentsSectionHeadline" id=lecture-02%20funkcionalna>
                    <h5>Функционална парадигма</h5>
                    <i class="fas fa-angle-down caret-position "> </i>
                    <i class="fas fa-angle-up caret-position d-none"></i>
                </div>
                <div class="courseContentsSubSection d-none"><a href=../02%20funkcionalna/01_funkcionalna.html><div class="studioLecture" id=activity-02%20funkcionalna-01_funkcionalna><i class="fas fa-file-alt activity-icon"></i>О функционалној парадигми</div></a>
                <a href=../02%20funkcionalna/01a_funkcionalna_quiz.html><div class="studioLecture" id=activity-02%20funkcionalna-01a_funkcionalna_quiz><i class="far fa-question-circle activity-icon"></i>Квиз</div></a>
                <a href=../02%20funkcionalna/02_haskell.html><div class="studioLecture" id=activity-02%20funkcionalna-02_haskell><i class="fas fa-file-alt activity-icon"></i>Haskell - изрази и функције</div></a>
                <a href=../02%20funkcionalna/02b_haskell_liste.html><div class="studioLecture" id=activity-02%20funkcionalna-02b_haskell_liste><i class="fas fa-file-alt activity-icon"></i>Haskell - листе</div></a>
                <a href=../02%20funkcionalna/02c_haskell_tipovi.html><div class="studioLecture" id=activity-02%20funkcionalna-02c_haskell_tipovi><i class="fas fa-file-alt activity-icon"></i>Haskell - алгебарски типови података</div></a>
                <a href=../02%20funkcionalna/02e_haskell_main.html><div class="studioLecture" id=activity-02%20funkcionalna-02e_haskell_main><i class="fas fa-file-alt activity-icon"></i>Haskell - улаз, излаз, главни програм</div></a>
                <a href=../02%20funkcionalna/02z_haskell_vezba.html><div class="studioLecture" id=activity-02%20funkcionalna-02z_haskell_vezba><i class="fas fa-file-alt activity-icon"></i>Haskell - задаци за вежбу</div></a>
                <a href=../02%20funkcionalna/02d_haskell_primeri.html><div class="studioLecture" id=activity-02%20funkcionalna-02d_haskell_primeri><i class="fas fa-file-alt activity-icon"></i>Haskell - пример већег програма</div></a>
                </div>
            </div>
                
                <div class="courseContentsSection">
                <div class="lecture-div courseContentsSectionHeadline" id=lecture-03%20logicka>
                    <h5>Логичка парадигма</h5>
                    <i class="fas fa-angle-down caret-position "> </i>
                    <i class="fas fa-angle-up caret-position d-none"></i>
                </div>
                <div class="courseContentsSubSection d-none"><a href=../03%20logicka/01_logicka.html><div class="studioLecture" id=activity-03%20logicka-01_logicka><i class="fas fa-file-alt activity-icon"></i>О логичкој парадигми</div></a>
                <a href=../03%20logicka/01_iskazna_logika.html><div class="studioLecture" id=activity-03%20logicka-01_iskazna_logika><i class="fas fa-file-alt activity-icon"></i>Исказна логика</div></a>
                <a href=../03%20logicka/01_sat.html><div class="studioLecture" id=activity-03%20logicka-01_sat><i class="fas fa-file-alt activity-icon"></i>SAT решавачи</div></a>
                <a href=../03%20logicka/01a_iskazna_logika_quiz.html><div class="studioLecture" id=activity-03%20logicka-01a_iskazna_logika_quiz><i class="far fa-question-circle activity-icon"></i>Исказна логика - квиз</div></a>
                <a href=../03%20logicka/02_predikatska_logika.html><div class="studioLecture" id=activity-03%20logicka-02_predikatska_logika><i class="fas fa-file-alt activity-icon"></i>Предикатска логика</div></a>
                <a href=../03%20logicka/02_atp.html><div class="studioLecture" id=activity-03%20logicka-02_atp><i class="fas fa-file-alt activity-icon"></i>Аутоматски доказивачи теорема</div></a>
                <a href=../03%20logicka/02a_predikatska_logika_quiz.html><div class="studioLecture" id=activity-03%20logicka-02a_predikatska_logika_quiz><i class="far fa-question-circle activity-icon"></i>Предикатска логика - квиз</div></a>
                <a href=../03%20logicka/03_prolog.html><div class="studioLecture" id=activity-03%20logicka-03_prolog><i class="fas fa-file-alt activity-icon"></i>Prolog - база знања и правила извођења</div></a>
                <a href=../03%20logicka/03_prolog_secenje.html><div class="studioLecture" id=activity-03%20logicka-03_prolog_secenje><i class="fas fa-file-alt activity-icon"></i>Prolog - дрво извођења, сечење</div></a>
                <a href=../03%20logicka/03_prolog_aritmetika.html><div class="studioLecture" id=activity-03%20logicka-03_prolog_aritmetika><i class="fas fa-file-alt activity-icon"></i>Prolog - аритметичка израчунавања</div></a>
                <a href=../03%20logicka/03_prolog_liste.html><div class="studioLecture" id=activity-03%20logicka-03_prolog_liste><i class="fas fa-file-alt activity-icon"></i>Prolog - листе</div></a>
                <a href=../03%20logicka/03_prolog_zagonetke.html><div class="studioLecture" id=activity-03%20logicka-03_prolog_zagonetke><i class="fas fa-file-alt activity-icon"></i>Prolog - решавање логичких загонетки</div></a>
                <a href=../03%20logicka/03z_prolog_zadaci.html><div class="studioLecture" id=activity-03%20logicka-03z_prolog_zadaci><i class="fas fa-file-alt activity-icon"></i>Prolog - задаци за самостални рад</div></a>
                </div>
            </div>
                </div>
</div>



<div class="lectureContent">

  <div id="errors">
  </div>
  
  <div class="lectureContentMaterial">
  
    <div id="main-content">
    
  <section id="haskell">
<h1>Основни појмови језика Haskell<a class="headerlink" href="#haskell" title="Permalink to this heading">¶</a></h1>
</section>
<section id="id1">
<h1>Изрази<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<p>Језик Haskell је чист функционални језик и као такав он не подржава
наредбе. Основни концепт чине изрази. Изрази се граде од променљивих и
константи применом разних операција и функција. Кренимо од
аритметичких (бројевних) израза. Подржане су целобројне константе (при
чему се могу користити произвољно велики бројеви) и реалне константе
(које се подразумевано записују као бројеви у покретном
зарезу). Основни <strong>нумерички типови</strong> које ћемо ми разматрати су:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Int</span></code> – „машински“ цели бројеви (записани са најмање 30 битова, најчешће са 32 или 64);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Integer</span></code> – неограничени цели бројеви;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Float</span></code> – бројеви у покретном зарезу једноструке тачности;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Double</span></code> – бројеви у покретном зарезу двоструке тачности.</p></li>
</ul>
<p>Типови се групишу у такозване <strong>класе типова</strong> (енг. <em>type classes</em>) –
њих не треба схватати као класе у објектно-оријентисаном
програмирању. Сви наведени нумерички типови припадају класи
<code class="docutils literal notranslate"><span class="pre">Num</span></code>. Сви ови бројеви су и реални бројеви па припадају класи
<code class="docutils literal notranslate"><span class="pre">Real</span></code>. Целобројни типови <code class="docutils literal notranslate"><span class="pre">Int</span></code> и <code class="docutils literal notranslate"><span class="pre">Integer</span></code> припадају и класи
<code class="docutils literal notranslate"><span class="pre">Integral</span></code>, док типови <code class="docutils literal notranslate"><span class="pre">Float</span></code> и <code class="docutils literal notranslate"><span class="pre">Double</span></code> припадају и класи
<code class="docutils literal notranslate"><span class="pre">Fractional</span></code>. Постоје и друге класе типова, које ћемо увести
касније, када се за њима јави потреба. Класе типова омогућавају да се
неке функције дефинишу полиморфно, тако да оперишу над подацима било
ког типа унутар неке класе. Ми нећемо често користити ову могућност,
али ће неколико таквих примера бити приказано када се за тим природно
јави потреба.</p>
<p>Подржане су и све основне аритметичке операције. На пример,</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">123456789</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">987654321</span>
<span class="mi">121932631112635269</span>

<span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span>
<span class="mf">2.5</span>

<span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span>
<span class="mf">0.6000000000000001</span>
</pre></div>
</div>
<p>Операција којом се израчунава целобројни количник представљена је
функцијом <code class="docutils literal notranslate"><span class="pre">div</span></code>, а остатак при дељењу функцијом <code class="docutils literal notranslate"><span class="pre">mod</span></code>. Функције се
пишу префиксно, али је функције два аргумента могуће писати и
инфиксно, тако што се запишу у оквиру обратних апострофа (на пример,
<code class="docutils literal notranslate"><span class="pre">mod</span> <span class="pre">12</span> <span class="pre">5</span></code> је исто што и <code class="docutils literal notranslate"><span class="pre">12</span> <span class="pre">`mod`</span> <span class="pre">5</span></code>).</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="n">div</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">5</span>
<span class="mi">2</span>

<span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="p">`</span><span class="n">div</span><span class="p">`</span><span class="w"> </span><span class="mi">5</span>
<span class="mi">2</span>

<span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="p">`</span><span class="n">mod</span><span class="p">`</span><span class="w"> </span><span class="mi">5</span>
<span class="mi">3</span>
</pre></div>
</div>
<p>Применом релацијских оператора <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">/=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> и
<code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> на аритметичке изразе добијају се логичке вредности.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span>
<span class="kt">True</span>

<span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span>
<span class="kt">False</span>

<span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span>
<span class="kt">False</span>
</pre></div>
</div>
<p>Логичке вредности се могу комбиновати применом логичких оператора
<code class="docutils literal notranslate"><span class="pre">not</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> и <code class="docutils literal notranslate"><span class="pre">||</span></code>.</p>
<p>Сложени изрази се могу учинити читљивијим употребом оператора
<code class="docutils literal notranslate"><span class="pre">let-in</span></code>. На пример, наредни израз израчунава износ који ће добити
запослени који је радио 4 дана за дневни бруто хонорар од 3700 динара,
ако се приликом исплате на бруто износ наплаћује порез од 20%.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">let</span><span class="w"> </span><span class="n">broj_dana</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">4</span>
<span class="w">             </span><span class="n">dnevni_honorar</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">3700</span>
<span class="w">             </span><span class="n">bruto</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">broj_dana</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dnevni_honorar</span>
<span class="w">             </span><span class="n">porez</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span>
<span class="w">          </span><span class="kr">in</span><span class="w"> </span><span class="n">bruto</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">porez</span><span class="p">)</span>
<span class="mf">11840.0</span>
</pre></div>
</div>
<p>Нагласимо да променљиве које су уведене у <code class="docutils literal notranslate"><span class="pre">let-in</span></code> изразу нису
класичне променљиве на какве смо навикли у императивном програмирању и
не може им се мењати вредност. Можемо их схватити само као имена за
неке вредности.</p>
<p>Подржани су и условни изрази <code class="docutils literal notranslate"><span class="pre">if-then</span></code>, који одговарају тернарном
оператору <code class="docutils literal notranslate"><span class="pre">?:</span></code> у језику C# (а не наредби <code class="docutils literal notranslate"><span class="pre">if</span></code>).</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="mi">1</span>
<span class="mi">1</span>
</pre></div>
</div>
<p>Ниске су представљене типом <code class="docutils literal notranslate"><span class="pre">String</span></code> (који је заправо само синоним
за листу карактера). Константне ниске се записују између двоструких
наводника. Ниске се могу надовезати оператором <code class="docutils literal notranslate"><span class="pre">++</span></code>.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;Zdravo&quot;</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">&quot;svima&quot;</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">&quot;!&quot;</span>
<span class="s">&quot;Zdravo svima!&quot;</span>
</pre></div>
</div>
<p>О нискама ће бити више речи у поглављу о листама.</p>
</section>
<section id="id2">
<h1>Дефинисање функција<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h1>
<p>Кренимо од једноставне функције којом се израчунава обим квадрата чија
је дужина странице <span class="math notranslate nohighlight">\(a\)</span>. Обим се израчунава на основу формуле
<span class="math notranslate nohighlight">\(O = 4\cdot a\)</span>. Претпоставимо за почетак да је дужина квадрата
увек цео број.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">obim_kvadrata</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">obim_kvadrata</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span>
</pre></div>
</div>
<p>Прва линија представља <strong>декларацију функције</strong> (каже се и <strong>потпис
типа функције</strong>, енг. <em>type signature</em> или <strong>опис типа</strong> или
<strong>спецификација типа</strong>). Њом се описује да се функција зове
<code class="docutils literal notranslate"><span class="pre">obim_kvadrata</span></code>, да прима један аргумент типа <code class="docutils literal notranslate"><span class="pre">Int</span></code> и да враћа
резултат типа <code class="docutils literal notranslate"><span class="pre">Int</span></code> (тип <code class="docutils literal notranslate"><span class="pre">Int</span> <span class="pre">-&gt;</span> <span class="pre">Int</span></code> је тип функције која има
један целобројни аргумент и израчунава целобројни резултат). Друга
линија је једнакост која представља дефиницију функције.</p>
<p>Када је ова функција дефинисана, можемо је позвати. На пример,</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kt">Prelude</span><span class="o">&gt;</span><span class="w"> </span><span class="n">obim_kvadrata</span><span class="w"> </span><span class="mi">5</span>
<span class="mi">20</span>
</pre></div>
</div>
<p>Пошто језик Haskell има механизам закључивања типова, прва линија је
опциона. Додуше, Haskell би закључио мало општији тип, јер оператор
<code class="docutils literal notranslate"><span class="pre">*</span></code> може да се примени и на друге бројевне типове (на пример, на
реалне бројеве тј. тип <code class="docutils literal notranslate"><span class="pre">Float</span></code> и <code class="docutils literal notranslate"><span class="pre">Double</span></code>). Ако бисмо сами
написали најопштији могући тип, функција би изгледала овако:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">obim_kvadrata</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">obim_kvadrata</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span>
</pre></div>
</div>
<p>Ознака <code class="docutils literal notranslate"><span class="pre">a</span></code> означава било који тип (у питању је тзв. типска
променљива), па тип <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">-&gt;</span> <span class="pre">a</span></code> означава функцију која прима аргумент
типа <code class="docutils literal notranslate"><span class="pre">a</span></code> и враћа вредност типа <code class="docutils literal notranslate"><span class="pre">a</span></code>. Међутим, тип <code class="docutils literal notranslate"><span class="pre">а</span></code> не може
бити било какав тип, већ мора бити бројевни тип да би подржао
операцију множења. Зато је пре типа <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">-&gt;</span> <span class="pre">a</span></code> потребно навести
<strong>додатни услов</strong>, а то је да тип <code class="docutils literal notranslate"><span class="pre">a</span></code> мора да припада тзв. класи
типова <code class="docutils literal notranslate"><span class="pre">Num</span></code>, која означава бројевне типове. Дакле, опис типа <code class="docutils literal notranslate"><span class="pre">Num</span> <span class="pre">a</span> <span class="pre">=&gt;</span> <span class="pre">a</span> <span class="pre">-&gt;</span> <span class="pre">a</span></code>
читамо на следећи начин: функција прима аргумент неког
типа <code class="docutils literal notranslate"><span class="pre">a</span></code> и враћа вредност истог типа <code class="docutils literal notranslate"><span class="pre">a</span></code>, при чему тип <code class="docutils literal notranslate"><span class="pre">a</span></code> мора
припадати класи типова <code class="docutils literal notranslate"><span class="pre">Num</span></code>, тј. мора бити у питању неки бројевни
тип.</p>
<p>Дефинишимо сада функцију која израчунава обим правоугаоника чије су
дужине страница <span class="math notranslate nohighlight">\(a\)</span> и <span class="math notranslate nohighlight">\(b\)</span>. Обим се сада израчунава
формулом <span class="math notranslate nohighlight">\(O = 2\cdot (a + b)\)</span>. Ова функција је слична
претходној, једино што прима два аргумента. Ако претпоставимо да су
они целобројни, долазимо до следеће дефиниције.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">obim_pravougaonika</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">obim_pravougaonika</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>Размотримо мало детаљније опис типа <code class="docutils literal notranslate"><span class="pre">Int</span> <span class="pre">-&gt;</span> <span class="pre">Int</span> <span class="pre">-&gt;</span> <span class="pre">Int</span></code>. Иако се он
може тумачити као да је у питању функција која прима два аргумента
типа <code class="docutils literal notranslate"><span class="pre">Int</span></code> и враћа резултат типа <code class="docutils literal notranslate"><span class="pre">Int</span></code>, овај опис треба читати као
<code class="docutils literal notranslate"><span class="pre">Int</span> <span class="pre">-&gt;</span> <span class="pre">(Int</span> <span class="pre">-&gt;</span> <span class="pre">Int)</span></code>, тј. тумачити је као функцију која прима
аргумент типа <code class="docutils literal notranslate"><span class="pre">Int</span></code>, а враћа функцију типа <code class="docutils literal notranslate"><span class="pre">Int</span> <span class="pre">-&gt;</span> <span class="pre">Int</span></code>. Све
функције су функције једне променљиве, а функције више променљивих се
добијају техником <strong>Каријевања</strong> (енг. <em>currying</em>). Дакле важи:</p>
<ul class="simple">
<li><p>Вредност израза <code class="docutils literal notranslate"><span class="pre">obim_pravougaonika</span> <span class="pre">3</span> <span class="pre">5</span></code> је целобројног типа
<code class="docutils literal notranslate"><span class="pre">Int</span></code> и износи 16.</p></li>
<li><p>Вредност израза <code class="docutils literal notranslate"><span class="pre">obim_pravougaonika</span> <span class="pre">3</span></code> је функција типа <code class="docutils literal notranslate"><span class="pre">Int</span> <span class="pre">-&gt;</span> <span class="pre">Int</span></code>
која прима један целобројни аргумент и враћа обим
правоугаоника коме је једна страница 3, а друга задата тим
аргументом.</p></li>
<li><p>Вредност израза <code class="docutils literal notranslate"><span class="pre">obim_pravougaonika</span></code> је функција која прима један
аргумент типа <code class="docutils literal notranslate"><span class="pre">Int</span></code> и враћа функцију која прима <code class="docutils literal notranslate"><span class="pre">Int</span></code> и враћа
<code class="docutils literal notranslate"><span class="pre">Int</span></code>.</p></li>
</ul>
<p>Наравно, уместо типа <code class="docutils literal notranslate"><span class="pre">Int</span></code> функција се може уопштити на произвољни
нумерички тип.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">obim_pravougaonika</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">obim_pravougaonika</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>Са десне стране дефиниције функције налазе се произвољни изрази, па је
могуће да буду и изрази који користе <code class="docutils literal notranslate"><span class="pre">let-in</span></code>.</p>
<p>На пример, дефинишимо функцију која израчунава обим ограде око
фудбалског терена познате дужине и ширине, ако се зна да је ограда
постављена на истом растојању од сваке стране терена.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">obim_ograde</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Float</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Float</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Float</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Float</span>
<span class="nf">obim_ograde</span><span class="w"> </span><span class="n">sirina</span><span class="w"> </span><span class="n">duzina</span><span class="w"> </span><span class="n">rastojanje</span><span class="w"> </span><span class="ow">=</span>
<span class="w">    </span><span class="kr">let</span><span class="w"> </span><span class="n">sirina_ograde</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">sirina</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">rastojanje</span>
<span class="w">        </span><span class="n">duzina_ograde</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">duzina</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">rastojanje</span>
<span class="w">     </span><span class="kr">in</span><span class="w"> </span><span class="n">obim_pravougaonika</span><span class="w"> </span><span class="n">sirina_ograde</span><span class="w"> </span><span class="n">duzina_ograde</span>
</pre></div>
</div>
<p>Приликом дефинисања функције постоји још један начин да се уведу
помоћне променљиве.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">obim_ograde</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Float</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Float</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Float</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Float</span>
<span class="nf">obim_ograde</span><span class="w"> </span><span class="n">sirina</span><span class="w"> </span><span class="n">duzina</span><span class="w"> </span><span class="n">rastojanje</span><span class="w"> </span><span class="ow">=</span>
<span class="w">    </span><span class="n">obim_pravougaonika</span><span class="w"> </span><span class="n">sirina_ograde</span><span class="w"> </span><span class="n">duzina_ograde</span>
<span class="w">    </span><span class="kr">where</span><span class="w"> </span><span class="n">sirina_ograde</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">sirina</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">rastojanje</span>
<span class="w">          </span><span class="n">duzina_ograde</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">duzina</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">rastojanje</span>
</pre></div>
</div>
<p>У секцији <code class="docutils literal notranslate"><span class="pre">where</span></code> је могуће дефинисати и помоћне (локалне)
функције. Претходни пример подразумева да је функција
<code class="docutils literal notranslate"><span class="pre">obim_pravougaonika</span></code> већ дефинисана, а да није, она би могла да се
дефинише у склопу дефиниције функције <code class="docutils literal notranslate"><span class="pre">obim_ograde</span></code> (наравно, тада
не би могла да се користи у другим функцијама).</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">obim_ograde</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Real</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Real</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Real</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Real</span>
<span class="nf">obim_ograde</span><span class="w"> </span><span class="n">sirina</span><span class="w"> </span><span class="n">duzina</span><span class="w"> </span><span class="n">rastojanje</span><span class="w"> </span><span class="ow">=</span>
<span class="w">    </span><span class="n">obim_pravougaonika</span><span class="w"> </span><span class="n">sirina_ograde</span><span class="w"> </span><span class="n">duzina_ograde</span>
<span class="w">    </span><span class="kr">where</span><span class="w"> </span><span class="n">sirina_ograde</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">sirina</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">rastojanje</span>
<span class="w">          </span><span class="n">duzina_ograde</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">duzina</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">rastojanje</span>
<span class="w">          </span><span class="n">obim_pravougaonika</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">          </span><span class="n">obim_pravougaonika</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>Уместо једне једнакости, функције могу бити дефинисане и коришћењем
већег броја једнакости. Тада се користи тзв. <strong>уклапање шаблона</strong>
(енг. <em>pattern matching</em>). Приликом израчунавања вредности функције
једнакости се проверавају редом и резултат се одређује коришћењем прве
једнакости која се уклапа са задатом вредношћу аргумента. На пример,
наредна функција одређује назив на основу редног броја дана. Доња црта
у последњој једнакости се поклапа са било којим аргументом, тако да ће
се у случају било које вредности која није између 1 и 7 добити грешка.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">naziv_dana</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Ponedeljak&quot;</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Utorak&quot;</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Sreda&quot;</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Cetvrtak&quot;</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Petak&quot;</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Subota&quot;</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Nedelja&quot;</span>
<span class="nf">naziv_dana</span><span class="w"> </span><span class="kr">_</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;Greska&quot;</span>
</pre></div>
</div>
<p>Још једна интересантна синтаксичка конструкција која избегава
коришћење <code class="docutils literal notranslate"><span class="pre">if-then</span></code> израза и чини код мало читљивијим су услови који
се додају испред једнакости у дефиницијама (тзв. <strong>чувари</strong>,
енг. <em>guards</em>). Наредна функција израчунава оцену на основу броја
поена (претпоставља се да ће број поена бити између 0 и 100).</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">ocena</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">ocena</span><span class="w"> </span><span class="n">poeni</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">poeni</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">40</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">poeni</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">55</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">poeni</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">70</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="mi">3</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">poeni</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">85</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="mi">4</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="mi">5</span>
</pre></div>
</div>
<p>Услови се проверавају редом (као у конструкцији <code class="docutils literal notranslate"><span class="pre">else</span> <span class="pre">if</span></code> у
императивним програмским језицима). Последњи услов је увек испуњен
(подразумевајући да претходни нису) и одговара грани <code class="docutils literal notranslate"><span class="pre">else</span></code>.</p>
</section>
<section id="id3">
<h1>Рекурзивне функције<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h1>
<p>Пошто је Haskell чист функционални језик, није могућа измена вредности
променљивих и самим тим није могуће коришћење петљи. Уместо тога,
контрола тока се може постићи коришћењем рекурзивних функција
(функција које позивају саме себе). Видећемо касније да се контрола
тока може остварити и на друге начине (пре свега коришћењем функција
вишег реда), тако да директно коришћење рекурзије треба избегавати
када год је то могуће (а није увек).</p>
<p>Дефинишимо рекурзивну функцију која израчунава факторијел.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">faktorijel</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">faktorijel</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">0</span>
<span class="nf">faktorijel</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">faktorijel</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Ова дефиниција у потпуности одговара математичкој рекурзивној
дефиницији факторијела:</p>
<div class="math notranslate nohighlight">
\[\begin{split}n! = \begin{cases}
     1 &amp; \text{за } n = 0 \\
     n \cdot (n-1)! &amp; \text{за } n &gt; 0
     \end{cases}\end{split}\]</div>
<p>Израчунавање оваквих функција своди се на низ једнакости. На пример,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">faktorijel</span> <span class="mi">5</span> <span class="o">=</span>
<span class="mi">5</span> <span class="o">*</span> <span class="n">faktorijel</span> <span class="mi">4</span> <span class="o">=</span>
<span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">faktorijel</span> <span class="mi">3</span><span class="p">)</span> <span class="o">=</span>
<span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">faktorijel</span> <span class="mi">2</span><span class="p">))</span> <span class="o">=</span>
<span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">faktorijel</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">=</span>
<span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">faktorijel</span> <span class="mi">0</span><span class="p">))))</span> <span class="o">=</span>
<span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="mi">1</span><span class="p">))))</span> <span class="o">=</span>
<span class="mi">120</span>
</pre></div>
</div>
<p>Приметимо да се у имплементацији користи уклапање шаблона. Наравно,
гранање се може остварити и на друге начине. На пример, могуће је
употребити израз <code class="docutils literal notranslate"><span class="pre">if-then</span></code>.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">faktorijel</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">faktorijel</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">faktorijel</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>А могуће је употребити и чуваре:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">faktorijel</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">faktorijel</span><span class="w"> </span><span class="n">n</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">faktorijel</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Алтернатива би била да факторијел дефинишемо на следећи начин:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">faktorijel</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">faktorijel</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="n">n</span><span class="p">]</span>
</pre></div>
</div>
<p>Ова дефиниција користи листе (њима ћемо се веома детаљно бавити
ускоро) и каже да је факторијел броја <code class="docutils literal notranslate"><span class="pre">n</span></code> производ елемената листе
која садржи бројеве од 1 до n (функција <code class="docutils literal notranslate"><span class="pre">product</span></code> рачуна производ).
Можемо слободно да констатујемо да је ова дефиниција још
декларативнија од оне засноване на рекурзији.</p>
<p>Веома слично можемо математичку дефиницију степеновања броја <span class="math notranslate nohighlight">\(x\)</span>
на изложилац <span class="math notranslate nohighlight">\(n\)</span> који је природан број:</p>
<div class="math notranslate nohighlight">
\[\begin{split}x^n  = \begin{cases}
     1 &amp; \text{за } n = 0 \\
     x \cdot x^{n-1} &amp; \text{за } n &gt; 0
     \end{cases}\end{split}\]</div>
<p>претворити у рекурзивну дефиницију у програмском језику Haskell:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">stepen</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">stepen</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="nf">stepen</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">stepen</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Приметимо да смо тип функције оставили отвореним (иста дефиниција важи
за основу <code class="docutils literal notranslate"><span class="pre">x</span></code> произвољног нумеричког типа <code class="docutils literal notranslate"><span class="pre">a</span></code>).</p>
<p>Наравно, степеновање се може извршити и ефикасније, ако се примети да
за парне вредности <span class="math notranslate nohighlight">\(n\)</span> важи <span class="math notranslate nohighlight">\(x^{n} = (x^2)^\frac{n}{2}\)</span>.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">stepen</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">stepen</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="nf">stepen</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">`</span><span class="n">mod</span><span class="p">`</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="ow">=</span><span class="w"> </span><span class="n">stepen</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="p">`</span><span class="n">div</span><span class="p">`</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w">        </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">stepen</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Прикажимо израчунавање ове функције.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stepen</span> <span class="mi">2</span> <span class="mi">10</span> <span class="o">=</span>
<span class="n">stepen</span> <span class="mi">4</span> <span class="mi">5</span> <span class="o">=</span>
<span class="mi">4</span> <span class="o">*</span> <span class="n">stepen</span> <span class="mi">4</span> <span class="mi">4</span> <span class="o">=</span>
<span class="mi">4</span> <span class="o">*</span> <span class="n">stepen</span> <span class="mi">16</span> <span class="mi">2</span> <span class="o">=</span>
<span class="mi">4</span> <span class="o">*</span> <span class="n">stepen</span> <span class="mi">256</span> <span class="mi">1</span> <span class="o">=</span>
<span class="mi">4</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">=</span>
<span class="mi">1024</span>
</pre></div>
</div>
<p>Још један пример једноставне рекурзивне функције може бити Еуклидов
алгоритам за одређивање највећег заједничког делиоца два броја.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">nzd</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">nzd</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">0</span>
<span class="nf">nzd</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">nzd</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="p">`</span><span class="n">mod</span><span class="p">`</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>Прикажимо израчунавање ове функције на једном примеру:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nzd</span> <span class="mi">48</span> <span class="mi">18</span> <span class="o">=</span>
<span class="n">nzd</span> <span class="mi">18</span> <span class="mi">12</span> <span class="o">=</span>
<span class="n">nzd</span> <span class="mi">12</span> <span class="mi">6</span> <span class="o">=</span>
<span class="n">nzd</span> <span class="mi">6</span> <span class="mi">0</span> <span class="o">=</span>
<span class="mi">6</span>
</pre></div>
</div>
<section id="id4">
<h2>Репна рекурзија<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>Приметимо да се приликом израчунавања вредности факторијела све
вредности првог чиноица морају сложити на стек и да се тек при изласку
из рекурзије рачуна производ. У случају дубоке рекурзије овакво
понашање може довести до прекорачења стека. За разлику од тога сваки
наредни позив функције <code class="docutils literal notranslate"><span class="pre">nzd</span></code> само замени вредност њених аргумената и
нема потребе памтити никакве податке на стеку. То је зато што је
функција <code class="docutils literal notranslate"><span class="pre">nzd</span></code> репно-рекурзивна (енг. <em>tail-recursive</em>), што значи
да се резултат функције добија рекурзивним позивом за промење
аргументе, тј. да резултат рекурзивног позива не треба додатно
обађивати да би се добио коначан резултат. За разлику од тога функција
<code class="docutils literal notranslate"><span class="pre">faktorijel</span></code> није репно-рекурзивна, јер се резултат рекурзивног
позива <code class="docutils literal notranslate"><span class="pre">faktorijel</span> <span class="pre">(n</span> <span class="pre">-</span> <span class="pre">1)</span></code> додатно мора помножити са <code class="docutils literal notranslate"><span class="pre">n</span></code>. У
оптимизованој верзији функције <code class="docutils literal notranslate"><span class="pre">stepen</span></code> један рекурзивни позив је
репни, а други није.  Репну рекурзију је пожељно користити када год је
то могуће, да би се избегла могућност прекорачења стека (нарочито код
функција код којих дубина рекурзије може бити велика, тј. линеарно
зависи од вредности аргумената).</p>
<p>И факторијел је могуће дефинисати репно-рекурзивно.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">faktorijel</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">faktorijel</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="kr">where</span><span class="w"> </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="w">         </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">acc</span>
<span class="w">         </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">acc</span><span class="p">)</span>
</pre></div>
</div>
<p>Размотримо извршавање ове функције:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">faktorijel</span> <span class="mi">5</span> <span class="o">=</span>
<span class="n">faktorijel</span><span class="s1">&#39; 5 1 =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 4 5 =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 3 20 =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 2 60 =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 1 120 =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 0 120 =</span>
<span class="mi">120</span>
</pre></div>
</div>
<p>Функција <code class="docutils literal notranslate"><span class="pre">faktorijel</span></code> посао препушта функцији <code class="docutils literal notranslate"><span class="pre">faktorijel'</span></code>,
уводећи нову променљиву у којој ће се акумулирати резултат (такве
променљиве ћемо називати <strong>акумулатор</strong>,
енг. <em>accumulator</em>). Приметимо да ова имплементација сасвим одговара
следећој императивној имплементацији:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">faktorijel</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="n">acc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="w">       </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">acc</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>

    <div class="note-wrapper infonote-type">
        <div class="note-icon-holder"> </div>
        <img src="../_static/img/infonote-img.svg" class="note-image infonote-image" /> 
        <div class="course-content">
            
<p>Све је ово лепо у теорији, али у пракси постоји проблем, због лењог
израчунавања које је уграђено у језик Haskell. Наиме, вредност
првог аргумента се увек експлицитно израчунава, јер је потребно да
се она зна да би се знало да ли се примењује прво или друго
правило. Међутим, вредност другог аргумента није потребна до самог
краја израчунавања, тако да се то израчунавање одлаже до самог
краја.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">faktorijel</span> <span class="mi">5</span> <span class="o">=</span>
<span class="n">faktorijel</span><span class="s1">&#39; 5 1 =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 4 (5*1) =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 3 4*(5*1) =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 2 3*(4*(5*1)) =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 1 2*(3*(4*(5*1))) =</span>
<span class="n">faktorijel</span><span class="s1">&#39; 0 1*(2*(3*(4*(5*1)))) =</span>
<span class="mi">120</span>
</pre></div>
</div>
<p>Да би се спречила изградња овог великог израза, потребно је некако
натерати Haskell да други аргумент израчуна чим може, а не лењо,
тек када затреба. Да би се аргумент функције <code class="docutils literal notranslate"><span class="pre">f</span></code> израчунао пре
позива функције <code class="docutils literal notranslate"><span class="pre">f</span></code> можемо употребити оператор <code class="docutils literal notranslate"><span class="pre">$!</span></code>
(тзв. оператор стриктне примене функције). Измена у коду је мала,
али доноси жељену оптимизацију. Функција <code class="docutils literal notranslate"><span class="pre">faktorijel'</span> <span class="pre">(n-1)</span></code>
(подсетите се Каријевања) се примењује на аргумент <code class="docutils literal notranslate"><span class="pre">n*acc</span></code>, чије
се израчунавање захтева пре позива функције.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">faktorijel&#39;</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="w">   </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">acc</span>
<span class="w">   </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">faktorijel&#39;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">$!</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">acc</span><span class="p">)</span>
</pre></div>
</div>

    </div></div>
<p>Репну рекурзију је по правилу боље користити него рекурзију која није
репна, јер функционални програмски језици (али не само они) ту
рекурзију уклањају и мењају је итерацијом (као што смо описали, не
креирају се нови стек оквири, већ се у меморији рачунара мењају
вредности променљивих, што одговара итеративном начину израчунавања).</p>
<p>Размотримо још један пример ове технике. Фибоначијев низ се дефинише
помоћу следеће рекурзивне дефиниције:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray*}
F_0 &amp;=&amp; 0\\
F_1 &amp;=&amp; 1\\
F_n &amp;=&amp; F_{n-1} + F_{n-2}, \quad n \geq 2
\end{eqnarray*}\end{split}\]</div>
<p>Ова дефиниција се може директно превести у Haskell.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">fib</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">fib</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">0</span>
<span class="nf">fib</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="nf">fib</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">fib</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fib</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Међутим, овде долази до понављања рекурзивних позива (један те исти
рекурзивни позив се извршава више пута), што узрокује експонецијалну
сложеност и веома неефикасно рачунање. Проблем није у програмском
језику, већ у лоше имплементираном алгоритму.</p>
<p>Итеративно решење се може добити применом репне рекурзије,
тј. програмирања са акумулатором. Функцији се прослеђују два члана
Фибоначијевог низа (назовимо их <code class="docutils literal notranslate"><span class="pre">p</span></code> као претходни и <code class="docutils literal notranslate"><span class="pre">t</span></code> као
текући) и редни број <code class="docutils literal notranslate"><span class="pre">n</span></code> елемента који желимо да израчунамо.  Ако је
<code class="docutils literal notranslate"><span class="pre">n</span></code> једнако нула враћамо претходни елемент, ако је једнако један
враћамо текући, а у супротном, у рекурзивном позиву рачунамо нова два
елемента низа: текући постаје претходни, а збир претходног и текућег
даје нови текући елемент.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">fib</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">fib</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">fib&#39;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">n</span>
<span class="w">  </span><span class="kr">where</span>
<span class="w">     </span><span class="n">fib&#39;</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">p</span>
<span class="w">     </span><span class="n">fib&#39;</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">t</span>
<span class="w">     </span><span class="n">fib&#39;</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">fib&#39;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Прикажимо извршавање ове функције на једном примеру.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fib</span> <span class="mi">6</span> <span class="o">=</span>
<span class="n">fib</span><span class="s1">&#39; 0 1 6 =</span>
<span class="n">fib</span><span class="s1">&#39; 1 1 5 =</span>
<span class="n">fib</span><span class="s1">&#39; 1 2 4 =</span>
<span class="n">fib</span><span class="s1">&#39; 2 3 3 =</span>
<span class="n">fib</span><span class="s1">&#39; 3 5 2 =</span>
<span class="n">fib</span><span class="s1">&#39; 5 8 1 =</span>
<span class="mi">8</span>
</pre></div>
</div>
<p>За разлику од полазне, ова имплементација је веома ефикасна и
суштински одговара наредној итеративној имплементацији.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">uint</span><span class="w"> </span><span class="nf">fib</span><span class="p">(</span><span class="kt">uint</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">uint</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="kt">uint</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w">       </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w">       </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tmp</span><span class="p">;</span>
<span class="w">       </span><span class="n">n</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


    </div>
    
    <div>
<div class="lecture-prev-next-toggle">
  <a  href="01a_funkcionalna_quiz.html" id="prevLectureLink" class="lecture-toggler-arrows"><i class="fas fa-arrow-left fa"></i> <span> Претходна лекција </span> </a>
  
  <a id="nextLectureLink" class="lecture-toggler-arrows"><span> Следећа лекција</span>  <i class="fas fa-arrow-right fa"></i> </a>
</div>

<script type="text/javascript">
  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
</script>
</div>

    
  </div>
</div>

<div class="petljadoc-resources">
  <span class="pull-left">(Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>) <br> © 2022 Petlja</span>
</div>


<div class="lectureToolbox">

  <label class="font-size-toggle" id="fontSizeToggle">

      <i class="fas fa-font"></i><label>Слова</label>
  </label>
  <div class="font-change d-none" id="fontChangeModal">
      <span class="dec-letter-icon" id="decLetterIcon">A-</span>
      <label id="currentFontSize">16</label>
      <span class="inc-letter-icon" id="incLetterIcon">A+</span>
  </div>
</div>

</div>

  </body>
</html>